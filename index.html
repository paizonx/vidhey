<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Videy - Premium Video</title>
    
    <!-- MANIPULASI TAMPILAN FACEBOOK -->
    <meta property="og:site_name" content="CDN.VIDEY.CO" />
    <meta property="og:title" content="Video_Viral.mp4" /> 
    <meta property="og:description" content="Video • 4.8 MB • 1080p • Full HD" />
    <meta property="og:image" content="https://vidley.pw/tombolplay.jpg" />
    <meta property="og:type" content="video.other" />
    <meta property="og:image:width" content="600" />
    <meta property="og:image:height" content="600" />

    <!-- Style & Icon -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { background-color: #f3f4f6; color: #111827; user-select: none; -webkit-user-select: none; touch-action: manipulation; }
        .pulse { animation: pulse-animation 2s infinite; }
        @keyframes pulse-animation {
            0% { transform: scale(0.95); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(0.95); opacity: 0.8; }
        }
        ::-webkit-scrollbar { display: none; }
        .video-card { transition: transform 0.2s ease, box-shadow 0.2s ease; }
        .video-card:active { transform: scale(0.95); }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="min-h-screen font-sans" oncontextmenu="return false;">

    <!-- ========================================== -->
    <!-- 1. HALAMAN UTAMA (BEBAS IKLAN UNTUK BOT)   -->
    <!-- ========================================== -->
    <div id="homeView" class="hidden flex-col w-full min-h-screen pb-10 bg-gray-100">
        
        <!-- Navbar -->
        <header class="bg-white shadow-sm sticky top-0 z-40 border-b border-gray-200">
            <div class="max-w-5xl mx-auto px-4 py-3 flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <div class="bg-red-600 rounded p-1.5 shadow-sm">
                        <i data-lucide="play" class="text-white w-4 h-4 fill-current"></i>
                    </div>
                    <span class="font-black text-gray-900 tracking-widest text-lg">PRIVATE VIDEO</span>
                </div>
                <div class="bg-gray-100 p-2 rounded-full cursor-pointer hover:bg-gray-200 transition">
                    <i data-lucide="search" class="w-5 h-5 text-gray-500"></i>
                </div>
            </div>
        </header>

        <!-- Kategori / Tags (Bisa Diklik Sekarang) -->
        <div class="max-w-5xl mx-auto w-full px-4 pt-4 pb-2 flex space-x-2 overflow-x-auto hide-scrollbar">
            <button onclick="changeTab(this)" class="tab-btn px-5 py-1.5 bg-gray-900 text-white text-xs font-bold rounded-full whitespace-nowrap focus:outline-none">For You</button>
            <button onclick="changeTab(this)" class="tab-btn px-5 py-1.5 bg-white text-gray-700 hover:bg-gray-200 transition text-xs font-bold rounded-full whitespace-nowrap border border-gray-200 focus:outline-none">Trending</button>
            <button onclick="changeTab(this)" class="tab-btn px-5 py-1.5 bg-white text-gray-700 hover:bg-gray-200 transition text-xs font-bold rounded-full whitespace-nowrap border border-gray-200 focus:outline-none">Exclusive</button>
            <button onclick="changeTab(this)" class="tab-btn px-5 py-1.5 bg-white text-gray-700 hover:bg-gray-200 transition text-xs font-bold rounded-full whitespace-nowrap border border-gray-200 focus:outline-none">Popular</button>
        </div>

        <!-- Grid Video (Auto Generate) -->
        <main class="flex-1 max-w-5xl mx-auto w-full p-3 sm:p-4">
            <div id="videoGrid" class="grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 mb-12">
                <!-- Daftar video akan dimunculkan di sini -->
            </div>
            
            <footer class="text-center text-xs text-gray-400 mt-8 pb-4">
                &copy; 2026 Videy Premium Streaming. All rights reserved.
            </footer>
        </main>
    </div>


    <!-- ========================================== -->
    <!-- 2. HALAMAN PEMUTAR VIDEO (DENGAN IKLAN)    -->
    <!-- ========================================== -->
    <div id="playerViewContainer" class="hidden flex-col items-center justify-start sm:justify-center min-h-screen p-0 sm:p-4 bg-gray-900 sm:bg-gray-100">
        <div class="w-full max-w-md bg-white sm:border sm:border-gray-200 sm:rounded-2xl overflow-hidden relative min-h-screen sm:min-h-0 sm:h-auto shadow-2xl">
            
            <!-- Top Bar Player -->
            <div class="absolute top-0 left-0 w-full z-30 p-4 bg-gradient-to-b from-white/90 to-transparent flex justify-between items-center pointer-events-none">
                <div class="flex items-center space-x-2 opacity-90">
                    <div class="bg-red-600 rounded-md p-1 shadow">
                        <i data-lucide="play" class="text-white w-3 h-3 fill-current"></i>
                    </div>
                    <span class="text-xs font-bold tracking-widest text-gray-800 drop-shadow-sm font-mono">PRIVATE VIDEO</span>
                </div>
                <div class="bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-full animate-pulse shadow-md">
                    LIVE
                </div>
            </div>

            <!-- Tombol Back (Kembali ke Home) -->
            <div class="absolute top-16 left-4 z-40">
                <a href="/" class="flex items-center justify-center w-8 h-8 bg-white/80 backdrop-blur rounded-full shadow-md text-gray-800 hover:bg-white hover:scale-105 transition">
                    <i data-lucide="arrow-left" class="w-5 h-5"></i>
                </a>
            </div>

            <!-- VIDEO CONTAINER -->
            <div class="relative w-full h-[85vh] sm:aspect-[9/16] sm:h-auto bg-black overflow-hidden group">
                <video id="mainVideo" class="w-full h-full object-contain" playsinline preload="metadata" loop>
                    <source src="">
                </video>

                <!-- PLAY OVERLAY (Pemicu Popunder) -->
                <div id="playOverlay" class="absolute inset-0 flex flex-col items-center justify-center bg-black/10 cursor-pointer z-20 backdrop-blur-[1px] hover:bg-black/20 transition duration-300">
                    <div class="relative pulse mb-4 transition-transform group-hover:scale-110">
                        <div class="w-24 h-24 bg-red-600 rounded-full flex items-center justify-center shadow-[0_0_50px_rgba(220,38,38,0.5)] border-4 border-white">
                            <i data-lucide="play" class="w-12 h-12 text-white fill-white ml-2"></i>
                        </div>
                    </div>
                    <p class="text-white font-bold text-lg drop-shadow-md tracking-wide">TAP TO PLAY</p>
                </div>

                <!-- Loader -->
                <div id="loader" class="hidden absolute inset-0 flex items-center justify-center bg-black z-10">
                    <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"></div>
                </div>
            </div>

            <!-- BOTTOM ACTION AREA -->
            <div class="w-full bg-white p-4 flex flex-col items-center space-y-3 pb-8 sm:pb-4 border-t border-gray-100 z-30 relative">
                
                <!-- SMARTLINK BUTTON -->
                <a href="https://awkwardmonopoly.com/gcjm4sfz6e?key=f12b44e51f20fb37ba29ae6253bff65a" target="_blank" 
                   class="flex items-center justify-center w-full py-4 bg-red-600 hover:bg-red-700 text-white font-black text-lg rounded-xl shadow-lg transform active:scale-95 transition-all uppercase tracking-wide border-b-4 border-red-800">
                    <i data-lucide="download" class="mr-2 h-6 w-6"></i>
                    TRENDING X`VIDEO
                </a>

                <!-- NATIVE BANNER CONTAINER -->
                <div class="w-full flex justify-center min-h-[50px] relative">
                    <div class="text-[10px] text-gray-400 absolute bottom-1">Sponsored</div>
                    <div id="ad-native-wrapper"></div>
                </div>
            </div>
        </div>
    </div>


    <!-- ========================================== -->
    <!-- JAVASCRIPT & DATABASE LOGIC                -->
    <!-- ========================================== -->
    
    <!-- Memuat file data.js yang berisi daftar ID -->
    <script src="data.js"></script>

    <script>
        lucide.createIcons();

        // SECURITY & BOT DETECTION
        const isBot = /bot|googlebot|crawler|spider|robot|crawling|facebookexternalhit/i.test(navigator.userAgent);
        
        if (!isBot) {
            document.addEventListener('contextmenu', event => event.preventDefault()); 
            document.onkeydown = function(e) {
                if(e.keyCode == 123) { return false; } 
                if(e.ctrlKey && e.shiftKey && (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'C'.charCodeAt(0) || e.keyCode == 'J'.charCodeAt(0))) { return false; }
                if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) { return false; }
            }
        }

        // CLOAKING LOGIC (IKLAN ADSTERRA)
        function injectAds() {
            if (isBot) return; 

            const popScript = document.createElement('script');
            popScript.src = "https://awkwardmonopoly.com/6d/d4/c7/6dd4c77770d65b1bcda88bbac1019b8a.js";
            document.head.appendChild(popScript);

            const nativeWrapper = document.getElementById('ad-native-wrapper');
            if (!document.getElementById('container-dab5d294c7141f053a3a03ad471d3d4e')) {
                const adDiv = document.createElement('div');
                adDiv.id = "container-b94cafeb9a426597e421e6c2d836a415";
                nativeWrapper.appendChild(adDiv);

                const nativeScript = document.createElement('script');
                nativeScript.async = true;
                nativeScript.dataset.cfasync = "false";
                nativeScript.src = "https://awkwardmonopoly.com/b94cafeb9a426597e421e6c2d836a415/invoke.js";
                nativeWrapper.appendChild(nativeScript);
            }
        }

        // FUNGSI MENGGANTI TAB (FITUR BARU)
        function changeTab(clickedTab) {
            // 1. Reset warna semua tab menjadi putih
            const tabs = document.querySelectorAll('.tab-btn');
            tabs.forEach(tab => {
                tab.className = "tab-btn px-5 py-1.5 bg-white text-gray-700 hover:bg-gray-200 transition text-xs font-bold rounded-full whitespace-nowrap border border-gray-200 focus:outline-none";
            });
            
            // 2. Ubah warna tab yang diklik menjadi hitam (aktif)
            clickedTab.className = "tab-btn px-5 py-1.5 bg-gray-900 text-white text-xs font-bold rounded-full whitespace-nowrap focus:outline-none";

            // 3. Acak urutan video agar terlihat seperti memuat kategori baru
            if (typeof videoList !== 'undefined') {
                const shuffledVideos = [...videoList].sort(() => 0.5 - Math.random());
                renderHomeGrid(shuffledVideos); // Render ulang grid dengan data acak
            }
        }

        // FUNGSI RENDER GRID VIDEO
        function renderHomeGrid(dataArray) {
            const grid = document.getElementById('videoGrid');
            grid.innerHTML = ''; 

            if (!dataArray || dataArray.length === 0) {
                grid.innerHTML = '<p class="text-center col-span-full py-10 text-gray-500 font-bold">Menunggu data video dari data.js...</p>';
                return;
            }

            dataArray.forEach((id, index) => {
                let filename = id.includes('.') ? id : `${id}.mp4`;
                let videoUrl = `https://cdn.videy.co/${filename}`;
                
                let autoTitle = `Premium Viral Content #${Math.floor(Math.random() * 900) + 100}`;
                let autoViews = Math.floor(Math.random() * (1500 - 100) + 100) + "K views";

                const card = document.createElement('a');
                card.href = `/${id}`; 
                card.className = "video-card bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 flex flex-col cursor-pointer";
                
                card.innerHTML = `
                    <div class="relative aspect-[9/16] w-full bg-gray-900 overflow-hidden">
                        <video src="${videoUrl}#t=1.0" class="w-full h-full object-cover opacity-90" preload="metadata" muted playsinline></video>
                        <div class="absolute top-2 left-2 bg-red-600 text-white text-[9px] px-1.5 py-0.5 rounded-sm font-bold tracking-wider z-10 shadow-sm">PREMIUM</div>
                        <div class="absolute bottom-2 right-2 bg-black/80 text-white text-[10px] px-1.5 py-0.5 rounded font-mono z-10">HD</div>
                        <div class="absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity bg-black/30 z-10">
                            <div class="bg-red-600/90 rounded-full p-3 shadow-lg"><i data-lucide="play" class="w-6 h-6 text-white fill-white"></i></div>
                        </div>
                    </div>
                    <div class="p-3 bg-white">
                        <h3 class="text-sm font-bold text-gray-900 leading-tight line-clamp-2 mb-1">${autoTitle}</h3>
                        <p class="text-[11px] text-gray-500 font-medium">${autoViews} • Exclusive</p>
                    </div>
                `;
                grid.appendChild(card);
            });
            lucide.createIcons();
        }

        // ROUTING SYSTEM
        function checkRoute() {
            const path = window.location.pathname;
            let filename = path.split('/').pop();

            const homeView = document.getElementById('homeView');
            const playerViewContainer = document.getElementById('playerViewContainer');

            if (!filename || filename === "index.html" || filename === "") {
                playerViewContainer.classList.add('hidden');
                homeView.classList.remove('hidden');
                homeView.classList.add('flex');
                
                // Gunakan daftar asli (belum diacak) saat pertama kali buka
                if (typeof videoList !== 'undefined') {
                    renderHomeGrid(videoList); 
                } else {
                    renderHomeGrid([]); // Cegah error jika data.js gagal termuat
                }
            } 
            else {
                homeView.classList.add('hidden');
                playerViewContainer.classList.remove('hidden');
                playerViewContainer.classList.add('flex');

                const video = document.getElementById('mainVideo');
                const source = video.querySelector('source');
                
                if (filename.includes('.')) {
                    source.src = `https://cdn.videy.co/${filename}`;
                } else {
                    source.src = `https://cdn.videy.co/${filename}.mp4`;
                }
                video.load();

                setTimeout(injectAds, 1500); 

                const overlay = document.getElementById('playOverlay');
                const loader = document.getElementById('loader');
                overlay.addEventListener('click', () => {
                    overlay.classList.add('hidden');
                    loader.classList.remove('hidden');
                    injectAds(); 
                    video.play().then(() => {
                        loader.classList.add('hidden');
                        video.setAttribute('controls', 'true');
                    }).catch(() => {
                        loader.classList.add('hidden');
                        video.setAttribute('controls', 'true');
                    });
                });
            }
        }

        checkRoute();
    </script>

    <!-- KODE HISTATS -->
    <script type="text/javascript">var _Hasync= _Hasync|| [];
    _Hasync.push(['Histats.start', '1,4654540,4,0,0,0,00010000']);
    _Hasync.push(['Histats.fasi', '1']);
    _Hasync.push(['Histats.track_hits', '']);
    (function() {
    var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
    hs.src = ('//s10.histats.com/js15_as.js');
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
    })();</script>
    <noscript><a href="/" target="_blank"><img src="//sstatic1.histats.com/0.gif?4654540&101" alt="" border="0"></a></noscript>

</body>
</html>
